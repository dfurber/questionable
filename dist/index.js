"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),r=require("use-wizard"),n=require("lodash"),o=require("@trussworks/react-uswds"),s=require("luxon"),i=require("file-saver"),a=require("@ramonak/react-progress-bar"),c=require("@rjsf/semantic-ui"),u=require("class-validator");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=l(i),p=l(a),f=l(c);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,s=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return s}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S,y,E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),h(this,"started",void 0),h(this,"finished",void 0),h(this,"birthdate",void 0),h(this,"age",void 0),h(this,"responses",[]),Object.assign(this,t),this.started=new Date},j=t.createContext({setState:{},state:{}}),P=function(){var e=t.useContext(j);if(!e)throw new Error("useGlobalState must be used within a GlobalStateContext");return e},m=function(r){var n=r.children,o=r.value,s=void 0===o?{}:o,i=O(t.useState(s),2),a=i[0],c=i[1];return e.jsx(j.Provider,Object.assign({value:{setState:c,state:a}},{children:n}),void 0)},x=function(){var e=P().state.questionnaire;if(!e)throw new Error("useQuestionnaire has no data");return e},T=function(){var e=P().state.config;if(!e)throw new Error("useConfig has no data");return e},A=function(){return{config:T(),questionnaire:x()}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}exports.QUESTION_TYPE=void 0,(S=exports.QUESTION_TYPE||(exports.QUESTION_TYPE={})).DOB="dob",S.MULTIPLE_CHOICE="multiple_choice",S.MULTIPLE_SELECT="multiple_select",exports.PAGE_TYPE=void 0,(y=exports.PAGE_TYPE||(exports.PAGE_TYPE={})).LANDING="Landing",y.NO_RESULTS="No Results",y.RESULTS="Results",y.SUMMARY="Summary",exports.DESIGN_TYPE=void 0,(exports.DESIGN_TYPE||(exports.DESIGN_TYPE={})).EDIT="Edit";var I,R,C,N,D,L,U,Y=w(w(w({},exports.PAGE_TYPE),exports.QUESTION_TYPE),exports.DESIGN_TYPE);exports.DIRECTION=void 0,(I=exports.DIRECTION||(exports.DIRECTION={}))[I.FORWARD=1]="FORWARD",I[I.BACKWARD=-1]="BACKWARD",exports.PROGRESS_BAR_STATUS=void 0,(R=exports.PROGRESS_BAR_STATUS||(exports.PROGRESS_BAR_STATUS={})).COMPLETE="complete",R.CURRENT="current",R.INCOMPLETE="incomplete",exports.ACTION=void 0,(C=exports.ACTION||(exports.ACTION={})).CALL="call",C.HYBRID="hybrid",C.ONLINE="online",exports.ACTION_TYPE=void 0,(N=exports.ACTION_TYPE||(exports.ACTION_TYPE={})).RESET="RESET",N.UPDATE="UPDATE",exports.DATE_UNIT=void 0,(D=exports.DATE_UNIT||(exports.DATE_UNIT={})).DAY="day",D.MONTH="month",D.YEAR="year",exports.MODE=void 0,(L=exports.MODE||(exports.MODE={})).DEV="dev",L.EDIT="edit",L.VIEW="view",exports.CSS_CLASS=void 0,(U=exports.CSS_CLASS||(exports.CSS_CLASS={})).BASE="usds-q",U.DEV_PANEL_SECTION="usds-q-dev-panel",U.DOB="usds-q-dob",U.MULTI_CHOICE="usds-q-multi-choice",U.MULTI_CHOICE_GROUP="usds-q-multi-choice-group",U.MULTI_SELECT="usds-q-multi-select",U.MULTI_SELECT_GROUP="usds-q-multi-select-group",U.NAVBAR="usds-q-navbar",U.NAVBAR_BUTTON="usds-q-navbar-button",U.PROGRESS_BAR="usds-q-progress-bar",U.PROGRESS_BAR_BOTTOM_SECTION="usds-q-progress-bar-bottom-section",U.PROGRESS_BAR_TOP_SECTION="usds-q-progress-bar-top-section",U.RESULTS_SUMMARY_BOX="usds-q-results-summary-box",U.RESULTS_SUMMARY_HEADER="usds-q-results-summary-header",U.STEP_FOOTER="usds-q-step-footer",U.STEP_HEADER="usds-q-step-header",U.STEP_INFO="usds-q-step-info",U.STEP_LAYOUT="usds-q-step-layout",U.STEP_LAYOUT_SECTION="usds-q-step-layout-section",U.STEP_SUBTITLE="usds-q-step-subtitle";var k=function(e,t){return Object.values(e).includes(t)};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=function(e,t){switch(null==t?void 0:t.type){case exports.ACTION_TYPE.RESET:return new E;case exports.ACTION_TYPE.UPDATE:return n.merge(B({},e),B({},t.value));default:return e}},M=require("moment"),F=function(e){return!(!e||e.length<8)&&!!M(e,"MM/DD/YYYY",!0).isValid()},Q=function(e){if(F(e)){var t=new Date(+e.substring(6,10),+e.substring(0,2)-1,+e.substring(3,5));return s.DateTime.fromJSDate(t)}},H=function(e){var t=s.DateTime.now(),r=t.year,n=t.month,o=t.day,i=e.year,a=e.month,c=e.day,u=r-i,l=0;n>=a?l=n-a:(u-=1,l=12+n-a);var d=0;return o>=c?d=o-c:(d=31+o-c,(l+=-1)<0&&(l=11,u-=1)),{days:d,months:l,years:u}},V=function(e){if(e&&F(e)){var t=Q(e);if(t)return H(t)}},W={buttons:{next:{label:"Get Started"}},id:exports.PAGE_TYPE.LANDING,section:{id:exports.PAGE_TYPE.LANDING},title:exports.PAGE_TYPE.LANDING,type:exports.PAGE_TYPE.LANDING},z={id:exports.PAGE_TYPE.RESULTS,section:{id:exports.PAGE_TYPE.RESULTS},title:exports.PAGE_TYPE.RESULTS,type:exports.PAGE_TYPE.RESULTS},J={landingPage:W,noResultsPage:{id:exports.PAGE_TYPE.NO_RESULTS,section:{id:exports.PAGE_TYPE.RESULTS},title:exports.PAGE_TYPE.NO_RESULTS,type:exports.PAGE_TYPE.NO_RESULTS},resultsPage:z,summaryPage:{buttons:{next:{label:"Submit"}},id:exports.PAGE_TYPE.SUMMARY,section:{id:exports.PAGE_TYPE.RESULTS},title:exports.PAGE_TYPE.SUMMARY,type:exports.PAGE_TYPE.SUMMARY}};function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t,r){return t&&$(e.prototype,t),r&&$(e,r),e}var X=function(){function e(){b(this,e)}return K(e,null,[{key:"sanitize",value:function(e){return e.toLowerCase().trim()}},{key:"matches",value:function(t,r){return!(!t||!r)&&e.sanitize(t)===e.sanitize(r)}}]),e}();function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.log(ee({},t))},re=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t||r)&&te("Created an empty element",t,r),e.jsx(e.Fragment,{children:t},void 0)},ne=function(){function t(){b(this,t)}return K(t,null,[{key:"getHeader",value:function(t,r){var n,o,s=null===(n=t.step)||void 0===n?void 0:n.title;if(!s)return re();r.steps.showStepId&&(s="".concat(null===(o=t.step)||void 0===o?void 0:o.id,": ").concat(s));return e.jsx("h3",Object.assign({className:"usa-card__heading ".concat(exports.CSS_CLASS.STEP_HEADER)},{children:s}),void 0)}},{key:"getSubtitle",value:function(t){var r,n=null===(r=t.step)||void 0===r?void 0:r.subTitle;return n?e.jsx("p",{className:exports.CSS_CLASS.STEP_SUBTITLE,dangerouslySetInnerHTML:{__html:n}},void 0):re()}},{key:"getInfoBox",value:function(t){var r,n=null===(r=t.step)||void 0===r?void 0:r.info;return n?e.jsx(o.SiteAlert,Object.assign({variant:"info",showIcon:!1,className:"outline-1px ".concat(exports.CSS_CLASS.STEP_INFO)},{children:n}),void 0):re()}},{key:"getFooter",value:function(t){var r,n=null===(r=t.step)||void 0===r?void 0:r.footer;return n?e.jsx("p",{className:"font-sans-6 ".concat(exports.CSS_CLASS.STEP_FOOTER),dangerouslySetInnerHTML:{__html:n}},void 0):re()}},{key:"resetQuestionable",value:function(e){e.dispatchForm({type:exports.ACTION_TYPE.RESET}),e.wizard.goToStep("A")}},{key:"saveAsJson",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"questionable.json",r=new Blob([e],{type:"text/plain;charset=utf-8"});d.default.saveAs(r,t)}}]),t}(),oe=function(t){if(!A().config.dev)return re();return e.jsxs(e.Fragment,{children:[e.jsx(o.Accordion,{items:[{content:e.jsx("pre",{children:e.jsx("code",{children:JSON.stringify(t.form,null,4)},void 0)},void 0),expanded:!1,id:"developer-output",title:"Temporary developer panel"}]},void 0),e.jsx("br",{},void 0),e.jsx("nav",Object.assign({className:exports.CSS_CLASS.NAVBAR},{children:e.jsx(o.Button,Object.assign({type:"reset",secondary:!0,onClick:function(){return ne.resetQuestionable(t)}},{children:"Reset"}),void 0)}),void 0)]},void 0)},se=function(t){var r=A(),n=r.config,o=r.questionnaire;if(n.progressBar.hide)return re();var s=o.getProgressPercent(t,n);return e.jsx("div",Object.assign({className:exports.CSS_CLASS.PROGRESS_BAR},{children:e.jsx(p.default,{completed:s,bgColor:n.progressBar.bgColor,baseBgColor:n.progressBar.baseBgColor,isLabelVisible:!1,borderRadius:"0px"},void 0)}),void 0)},ie=function(t){return e.jsx(o.StepIndicatorStep,{label:t.name,status:t.status||"incomplete"},t.id)},ae=function(t){var r=A(),n=r.config,s=r.questionnaire;if(n.progressBar.hide)return re();var i=s.getSections(t,n);return 0===i.length?re():e.jsx(o.StepIndicator,Object.assign({centered:!0,counters:"small"},{children:i.map(ie)}),void 0)},ce=function(t){var r=t.props,n=t.position,o=A().config;if(o.progressBar.hide||o.progressBar.position!==n)return re();switch(o.progressBar.type){case"progress-bar":return e.jsx(se,Object.assign({},r),void 0);case"step-indicator":return e.jsx(ae,Object.assign({},r),void 0);default:return re("Could not find progress type",o.progressBar.type)}},ue=require("./survey.json");function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe={properties:{step:{$ref:"#/definitions/IStep",title:"Step"}}},fe=de(de({type:"object"},pe),ue),ve=function(){function t(){b(this,t)}return K(t,null,[{key:"getReason",value:function(e,t,r){var n,o=null===(n=t.match)||void 0===n?void 0:n.explanation,s=r.questionnaire,i=r.config;if(!o)return"";if(null!=i&&i.dev&&t.match){var a,c;if(o+="<br><br>",void 0!==t.match.ageCalc||void 0!==t.match.minAge||void 0!==t.match.maxAge)o+="You are ".concat(null===(a=e.form.age)||void 0===a?void 0:a.years," years "),o+="and ".concat(null===(c=e.form.age)||void 0===c?void 0:c.months," months old. ");Object.keys(t.match.responses).forEach((function(e){var t=s.getQuestionById(e);o+='You answered "<b>'.concat(t.answer,'</b>" to the question "<i>').concat(t.title,'.</i>" ')}))}return o}},{key:"getResults",value:function(r,n){return n.questionnaire.getResults(r.form).map((function(o){return e.jsxs("li",Object.assign({className:"padding-bottom-2"},{children:[e.jsxs("span",{children:[o.label,":","  ",e.jsx("b",{children:o.name},void 0)]},void 0),e.jsx("div",{className:"text-light",dangerouslySetInnerHTML:{__html:t.getReason(r,o,n)}},void 0)]}),"".concat(r.stepId,"_").concat(o.id))}))}}]),t}(),ge=function(){function e(){b(this,e)}return K(e,null,[{key:"goToStep",value:function(e,t){t.wizard.goToStep(e)}},{key:"goToNextStep",value:function(t,r,n){e.goToStep(r.getNextStep(t,n),t)}},{key:"goToPrevStep",value:function(t,r,n){e.goToStep(r.getPreviousStep(t,n),t)}},{key:"isNextEnabled",value:function(t){var r,n,o;if(null==t||!t.step)throw new Error("This survery is not defined");return t.stepId===Y.LANDING||(t.stepId===Y.SUMMARY||!!t.form&&((null===(r=t.step)||void 0===r?void 0:r.type)===exports.QUESTION_TYPE.DOB?void 0!==(null===(n=t.form)||void 0===n||null===(o=n.age)||void 0===o?void 0:o.years)&&t.form.age.years>=0:e.isValid(t.form,t.step.id)))}},{key:"isValid",value:function(e,t){var r,o=e.responses.find((function(e){return e.id===t}));if(!o)return!1;var s=n.values(o.answers);switch(o.type){case Y.DOB:return void 0!==(null==e||null===(r=e.age)||void 0===r?void 0:r.years)&&e.age.years>0;case Y.MULTIPLE_CHOICE:return void 0!==o.answer&&void 0!==(null==s?void 0:s.find((function(e){return e.title===o.answer})));default:return!0}}},{key:"getFieldSetName",value:function(e){return n.kebabCase(e.step.title)}},{key:"getDomId",value:function(t,r){var o=e.getFieldSetName(r);return"".concat(o,"-").concat(n.kebabCase(t))}}]),e}(),Oe=function(){function t(){b(this,t)}return K(t,null,[{key:"updateForm",value:function(e,t){Object.assign(t.step,{answer:e});var r={answers:[t.step]};return t.dispatchForm({type:exports.ACTION_TYPE.UPDATE,value:r})}},{key:"isSelected",value:function(e,t){if(null!=t&&t.form){var r=t.form.responses.find((function(e){return e.id===t.step.id}));if(r)return ge.isValid(t.form,t.step.id)&&r.answer===e}}},{key:"getRadio",value:function(r,n,s){var i,a=function(){return t.updateForm(r.title,n)},c=ge.getDomId(r.title,n);return e.jsx(o.Radio,{id:c,name:ge.getFieldSetName(n),label:r.title,value:r.title,checked:!0===t.isSelected(r.title,n),className:exports.CSS_CLASS.MULTI_CHOICE,onChange:a,onClick:a,tile:!0===(null===(i=s.questions)||void 0===i?void 0:i.showAnswerBorder)},c)}},{key:"getRadios",value:function(r,n){return e.jsx(o.Fieldset,Object.assign({legend:r.step.title,className:exports.CSS_CLASS.MULTI_CHOICE_GROUP,legendStyle:"srOnly"},{children:r.step.answers.map((function(e){return t.getRadio(e,r,n)}))}),void 0)}},{key:"getCheckbox",value:function(r,n,s){var i,a=function(){return t.updateForm(r.title,n)},c=ge.getDomId(r.title,n);return e.jsx(o.Checkbox,{id:c,name:ge.getFieldSetName(n),label:r.title,value:r.title,checked:!0===t.isSelected(r.title,n),className:exports.CSS_CLASS.MULTI_SELECT,onChange:a,onClick:a,tile:!0===(null===(i=s.questions)||void 0===i?void 0:i.showAnswerBorder)},c)}},{key:"getCheckboxes",value:function(r,n){return e.jsx(o.Fieldset,Object.assign({legend:r.step.title,className:exports.CSS_CLASS.MULTI_SELECT_GROUP,legendStyle:"srOnly"},{children:r.step.answers.map((function(e){return t.getCheckbox(e,r,n)}))}),void 0)}},{key:"getBirthdate",value:function(e){var t;if(null!==(t=e.form)&&void 0!==t&&t.birthdate)return Q(e.form.birthdate)}},{key:"toBirthdate",value:function(e){if(e.month&&e.day&&e.year)return"".concat(e.month.padStart(2,"0"),"/").concat(e.day.padStart(2,"0"),"/").concat(e.year)}}]),t}(),be=function(t){return e.jsx(o.Button,Object.assign({className:"".concat(exports.CSS_CLASS.NAVBAR_BUTTON," ").concat(exports.CSS_CLASS.NAVBAR_BUTTON,"-").concat(t.dir),"data-testid":"".concat(t.dir,"-button-").concat(t.stepId),disabled:t.disabled(),onClick:t.onClick,type:"button",unstyled:"link"===t.mode,outline:"link"!==t.mode&&"prev"===t.dir},{children:t.label}),void 0)},he=function(t){var r,n,o=A(),s=o.questionnaire,i=o.config,a=t.step,c=t.verticalPos!==i.nav.prev.verticalPos,u=t.stepId===Y.LANDING||t.stepId===s.flow[1],l=t.stepId===Y.RESULTS||t.stepId===Y.NO_RESULTS,d=i.mode!==exports.MODE.EDIT||t.stepId===s.flow[0]&&i.mode===exports.MODE.EDIT;if(c||(u||l)&&d)return re();var p=(null==a||null===(r=a.buttons)||void 0===r||null===(n=r.prev)||void 0===n?void 0:n.label)||i.nav.prev.defaultLabel||"Previous";return e.jsx(be,Object.assign({},{dir:"prev",disabled:function(){return!1},label:p,mode:i.nav.prev.mode||"link",onClick:function(){return ge.goToPrevStep(t,s,i)},stepId:"".concat(t.stepId)}),void 0)},Se=function(t){var r,n,o=A(),s=o.questionnaire,i=o.config,a=t.step,c=t.verticalPos!==i.nav.next.verticalPos,u=t.stepId===Y.RESULTS||t.stepId===Y.NO_RESULTS,l=i.mode!==exports.MODE.EDIT||t.stepId===s.flow[s.flow.length-1]&&i.mode===exports.MODE.EDIT;if(c||u&&l)return re();var d=(null==a||null===(r=a.buttons)||void 0===r||null===(n=r.next)||void 0===n?void 0:n.label)||i.nav.next.defaultLabel||"Previous";return e.jsx(be,Object.assign({},{dir:"next",disabled:function(){return i.mode===exports.MODE.VIEW&&!ge.isNextEnabled(t)},label:d,mode:i.nav.next.mode||"button",onClick:function(){return ge.goToNextStep(t,s,i)},stepId:"".concat(t.stepId)}),void 0)},ye=function(t){return e.jsxs("nav",Object.assign({className:"".concat(exports.CSS_CLASS.NAVBAR," ").concat(exports.CSS_CLASS.NAVBAR,"-").concat(t.verticalPos)},{children:[e.jsx(he,Object.assign({},t),void 0),e.jsx(Se,Object.assign({},t),void 0)]}),void 0)};function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe=function(t){var r=A().questionnaire;return e.jsxs("div",{children:[e.jsx(ye,Object.assign({},je(je({},t),{},{verticalPos:"top"})),void 0),e.jsx("section",{children:e.jsx(o.CardGroup,{children:e.jsxs(o.Card,Object.assign({headerFirst:!0,gridLayout:{tablet:{col:12}},containerProps:{className:"border-ink"}},{children:[e.jsx(o.CardHeader,Object.assign({className:"bg-base-lightest"},{children:e.jsxs("h1",{children:["Edit the ",r.header]},void 0)}),void 0),e.jsx(o.CardBody,Object.assign({className:"padding-top-3"},{children:t.children}),void 0),e.jsx(o.CardFooter,{children:'Click "Save" to save your edits, or "Next" to continue editing'},void 0)]}),void 0)},void 0)},void 0)]},void 0)},me=function(t){var r=A().questionnaire,s=function(e){var t=de({},pe);return k(exports.PAGE_TYPE,e.step.type)?t.properties.step.$ref="#/definitions/IPage":k(exports.QUESTION_TYPE,e.step.type)&&(t.properties.step.$ref="#/definitions/IQuestion"),n.merge(t,fe)}(t),i=n.kebabCase(r.header);return e.jsx(f.default,Object.assign({schema:s,uiSchema:{step:{"ui:order":["title","subTitle","bodyHeader","bodySubHeader","body","info","footer","*"]}},onSubmit:function(e){var t=e.formData;ne.saveAsJson(t,"".concat(i,".json"))},formData:{step:t.step}},{children:e.jsx("div",{children:e.jsx(o.Button,Object.assign({type:"submit"},{children:"Save"}),void 0)},void 0)}),void 0)},xe=function(t){return e.jsx(Pe,Object.assign({},t,{children:e.jsx(me,Object.assign({},t),void 0)}),void 0)};function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ie=function(t){var r=A().config,n=r.steps,s=n.borderClass,i=n.titleClass;return e.jsxs("div",{children:[e.jsx(ye,Object.assign({},we(we({},t),{},{verticalPos:"top"})),void 0),e.jsx("section",Object.assign({className:exports.CSS_CLASS.STEP_LAYOUT},{children:e.jsx(o.CardGroup,{children:e.jsxs(o.Card,Object.assign({headerFirst:!0,gridLayout:{tablet:{col:12}},containerProps:{className:s}},{children:[e.jsx(o.CardHeader,Object.assign({className:i},{children:ne.getHeader(t,r)}),void 0),e.jsxs(o.CardBody,{children:[ne.getSubtitle(t),t.children,ne.getInfoBox(t)]},void 0),e.jsx(o.CardFooter,{children:ne.getFooter(t)},void 0)]}),void 0)},void 0)}),void 0),e.jsx(ye,Object.assign({},we(we({},t),{},{verticalPos:"bottom"})),void 0)]},void 0)},Re=function(t){var r=t.step;return r?e.jsx(Ie,Object.assign({},t,{children:e.jsx("p",{children:r.body},void 0)}),void 0):re()},Ce=function(t){return t.step?e.jsx(Ie,Object.assign({},t),void 0):re()},Ne=function(t){var r=t.step,n=A(),s=n.questionnaire;if(!r)return re();var i=s.getAction();return e.jsx(Ie,Object.assign({},t,{children:e.jsxs(o.SummaryBox,Object.assign({heading:r.bodyHeader||"",className:exports.CSS_CLASS.RESULTS_SUMMARY_HEADER},{children:[e.jsx("p",{children:r.bodySubHeader},void 0),e.jsx("ul",Object.assign({className:"usa-list usa-list--unstyled ".concat(exports.CSS_CLASS.RESULTS_SUMMARY_BOX)},{children:ve.getResults(t,n)}),void 0),e.jsx("p",{dangerouslySetInnerHTML:{__html:(null==r?void 0:r.body)||""}},void 0),e.jsx("h2",{children:i.title},void 0),e.jsx("p",{children:i.description},void 0),e.jsx("p",{dangerouslySetInnerHTML:{__html:i.action}},void 0),"."]}),void 0)}),void 0)},De=function(t){var r=t.form.responses.map((function(t){return e.jsx("li",Object.assign({className:"padding-bottom-2"},{children:e.jsxs("span",Object.assign({className:"text-light"},{children:[t.title,":  ",e.jsx("b",{children:t.answer},void 0)]}),void 0)}),t.id)}));return e.jsx("ul",Object.assign({className:"usa-list usa-list--unstyled"},{children:r}),void 0)},Le=function(t){return t.step?e.jsx(Ie,Object.assign({},t,{children:De(t)}),void 0):re()};function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var qe=function(r){var s,i,a,c,u,l,d=r.step,p={day:null===(s=Oe.getBirthdate(r))||void 0===s||null===(i=s.day)||void 0===i?void 0:i.toString(),month:null===(a=Oe.getBirthdate(r))||void 0===a||null===(c=a.month)||void 0===c?void 0:c.toString(),year:null===(u=Oe.getBirthdate(r))||void 0===u||null===(l=u.year)||void 0===l?void 0:l.toString()},f=O(t.useState(p),2),v=f[0],g=f[1];if(!d)return re();var b,S=function(e,t){var n=e.target.value;if(n){v[t]=n,g(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},v));var o=Oe.toBirthdate(v),s=V(o);s&&r.dispatchForm({type:exports.ACTION_TYPE.UPDATE,value:{age:s,birthdate:o}})}},y=function(t,s){var i=2;return t===exports.DATE_UNIT.YEAR&&(i=4),e.jsx(o.DateInput,{id:ge.getDomId(t,r),name:s,label:n.capitalize(t),unit:t,maxLength:i,minLength:i,defaultValue:v[t],onChange:function(e){return S(e,t)}},void 0)};return b="date_of_birth",e.jsxs(o.DateInputGroup,{children:[y(exports.DATE_UNIT.MONTH,b),y(exports.DATE_UNIT.DAY,b),y(exports.DATE_UNIT.YEAR,b)]},void 0)},Be=function(t){return e.jsx(Ie,Object.assign({},t,{children:e.jsx(qe,Object.assign({},t),void 0)}),void 0)},Ge=function(e){var t,r=A().config;return void 0===(null==e||null===(t=e.step)||void 0===t?void 0:t.answers)?re():Oe.getCheckboxes(e,r)},Me=function(t){return e.jsx(Ie,Object.assign({},t,{children:e.jsx(Ge,Object.assign({},t),void 0)}),void 0)},Fe=function(e){var t,r=A().config;return void 0===(null==e||null===(t=e.step)||void 0===t?void 0:t.answers)?re("Question and answer are not defined"):Oe.getRadios(e,r)},Qe=function(t){return e.jsx(Ie,Object.assign({},t,{children:e.jsx(Fe,Object.assign({},t),void 0)}),void 0)};function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We=function(t,r){return k(exports.QUESTION_TYPE,r.type)?function(t){var r=t.stepId,n=A().questionnaire,o=n.getStepById("".concat(r));if(!k(exports.QUESTION_TYPE,o.type))return re("Not a question");var s=n.getQuestionById(o.id),i=Ve({},Ve({step:s},t));switch(s.type){case exports.QUESTION_TYPE.DOB:return e.jsx(Be,Object.assign({},i),void 0);case exports.QUESTION_TYPE.MULTIPLE_CHOICE:return e.jsx(Qe,Object.assign({},i),void 0);case exports.QUESTION_TYPE.MULTIPLE_SELECT:return e.jsx(Me,Object.assign({},i),void 0);default:return re("Question does not exist","QuestionFactory")}}(t):k(exports.PAGE_TYPE,r.type)?function(t){var r=t.stepId,n=A().questionnaire,o=n.getStepById("".concat(r));if(!k(exports.PAGE_TYPE,o.type))return re("Not a page");var s=n.getPageById(o.id),i=Ye({},Ye({step:s},t));switch(s.type){case exports.PAGE_TYPE.LANDING:return e.jsx(Re,Object.assign({},i),void 0);case exports.PAGE_TYPE.NO_RESULTS:return e.jsx(Ce,Object.assign({},i),void 0);case exports.PAGE_TYPE.RESULTS:return e.jsx(Ne,Object.assign({},i),void 0);case exports.PAGE_TYPE.SUMMARY:return e.jsx(Le,Object.assign({},i),void 0);default:return re("Page does not exist","PageFactory")}}(t):re("Step does not exist","StepFactory")},ze=function(t){var r=t.stepId,n=A(),o=n.questionnaire,s=n.config,i=o.getStepById("".concat(r));return s.mode===exports.MODE.EDIT?function(t,r){var n=Ae({},Ae({step:A().questionnaire.getStepById(r.id)},t));if(k(exports.QUESTION_TYPE,r.type)){var o=n;return e.jsx(xe,Object.assign({},o),void 0)}if(k(exports.PAGE_TYPE,r.type)){var s=n;return e.jsx(xe,Object.assign({},s),void 0)}return re("Not an editable type")}(t,i):We(t,i)};function Je(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function $e(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Je(e,t,"set"),r),r}function Ke(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Je(e,t,"get"))}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var et=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,ot=new WeakMap,st=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),et.set(this,{writable:!0,value:exports.MODE.VIEW}),tt.set(this,{writable:!0,value:{next:{defaultLabel:"Next",horizontalPos:"left",mode:"button",verticalPos:"bottom"},prev:{defaultLabel:"Go back",horizontalPos:"left",mode:"link",verticalPos:"top"}}}),rt.set(this,{writable:!0,value:{baseBgColor:"#f0f0f0",bgColor:"#005ea2",hide:!1,position:"bottom",type:"progress-bar"}}),nt.set(this,{writable:!0,value:{showAnswerBorder:!0}}),ot.set(this,{writable:!0,value:{borderClass:"border-0",showStepId:!1,titleClass:""}}),n.merge(this,t),this.dev&&(Ke(this,ot).showStepId=!0)}return K(e,[{key:"dev",get:function(){return Ke(this,et)===exports.MODE.DEV}},{key:"mode",get:function(){return Ke(this,et)},set:function(e){n.isString(e)?k(exports.MODE,e)?$e(this,et,e):$e(this,et,exports.MODE.VIEW):$e(this,et,e)}},{key:"nav",get:function(){return Ze({},Ke(this,tt))},set:function(e){n.merge(Ke(this,tt),e)}},{key:"progressBar",get:function(){return Ze({},Ke(this,rt))},set:function(e){n.merge(Ke(this,rt),e)}},{key:"questions",get:function(){return Ze({},Ke(this,nt))},set:function(e){n.merge(Ke(this,nt),e)}},{key:"steps",get:function(){return Ze({},Ke(this,ot))},set:function(e){n.merge(Ke(this,ot),e)}}]),e}();function it(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":at(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var lt=function(){function e(t){b(this,e),h(this,"questions",void 0),h(this,"header",void 0),h(this,"results",void 0),h(this,"flow",void 0),h(this,"sections",void 0),h(this,"actions",void 0),h(this,"pages",J),h(this,"steps",void 0),Object.assign(this,t),this.steps=it(this.questions),this.init(),this.flow=this.steps.map((function(e){return e.id}))}return K(e,[{key:"getStepById",value:function(e){var t=this.steps.find((function(t){return t.id===e}));if(!t)throw new Error("Step id: ".concat(e," not found in survery"));return t}},{key:"getPageById",value:function(e){var t=this.getStepById(e);if(!k(exports.PAGE_TYPE,t.type))throw new Error("Step id: ".concat(e," is not a page"));return t}},{key:"getQuestion",value:function(e){if(!e.id)throw new Error("Question ".concat(e," is not defined"));return this.getQuestionById(e.id)}},{key:"getQuestionById",value:function(e){var t=this.getStepById(e);if(!k(exports.QUESTION_TYPE,t.type))throw new Error("Step id: ".concat(e," not a question"));return t}},{key:"getStep",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new st,s=-1!==this.flow.indexOf(e)?this.flow[this.flow.indexOf(e)+r]:void 0;if(!s)return e;if(o.mode===exports.MODE.EDIT)return s;if(s===Y.RESULTS&&0===this.getResults(t).length)return Y.NO_RESULTS;if(s===Y.NO_RESULTS&&this.getResults(t).length>0)return Y.RESULTS;var i,a=this.getStepById(s);if(null==a||!a.requirements)return s;if(a.requirements.forEach((function(e){var r=n.meetsAllRequirements(e,t);i=void 0===i?r:i||r})),i)return s;var c=this.getStep(s,t,r);return c!==s?c:e}},{key:"getNextStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new st,r=e.stepId;return this.getStep(r,e.form,exports.DIRECTION.FORWARD,t)}},{key:"getPreviousStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new st,r=e.stepId;return this.getStep(r,e.form,exports.DIRECTION.BACKWARD,t)}},{key:"getProgressPercent",value:function(e,t){var r,n;if(X.matches(null===(r=e.step)||void 0===r||null===(n=r.section)||void 0===n?void 0:n.id,exports.PAGE_TYPE.RESULTS))return 100;var o=this.getSections(e,t),s=o[o.length-1];if(null==s||!s.lastStep)return.5;var i=this.flow.indexOf("".concat(e.stepId)),a=s.lastStep+2;return t.mode===exports.MODE.EDIT&&(a=this.flow.length-1),Math.round(i/a*100)}},{key:"getSections",value:function(e,t){var r=this;if(!e)return[];var n=e.stepId,o=this.getStepById(n),s=this.steps.indexOf(o),i=this.sections.filter((function(t){return 0===t.requirements.length||t.requirements.some((function(t){return r.meetsAllRequirements(t,e.form)}))}));return t.mode===exports.MODE.EDIT&&(i=it(this.sections)),i.map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return t.lastStep=r.questions.reduce((function(t,r,n){return r.section.id===e.id?n:t}),-1),X.matches(t.id,exports.PAGE_TYPE.RESULTS)?t.lastStep=r.questions.length-2:X.matches(t.id,exports.PAGE_TYPE.LANDING)&&(t.lastStep=0),t.lastStep<0?t.status=exports.PROGRESS_BAR_STATUS.INCOMPLETE:X.matches(t.id,o.section.id)?t.status=exports.PROGRESS_BAR_STATUS.CURRENT:t.lastStep<s&&(t.status=exports.PROGRESS_BAR_STATUS.COMPLETE),t}))}},{key:"getResults",value:function(e){var t=this;return this.results.filter((function(r){return r.requirements.some((function(n){return!!t.meetsAllRequirements(n,e)&&(Object.assign(r,{match:n}),!0)}))}))}},{key:"getAction",value:function(){var e=Math.floor(Math.random()*this.actions.length);return this.actions[e]}},{key:"init",value:function(){var e,t,r;if((null===(e=this.questions)||void 0===e?void 0:e.length)<=0)throw new Error("No questions have been defined.");if((null===(t=this.header)||void 0===t?void 0:t.length)<=0)throw new Error("No header has been defined.");if((null===(r=this.results)||void 0===r?void 0:r.length)<=0)throw new Error("No results have been defined.");var n="step is not correctly defined or defined more than once";if(this.steps[0].type!==exports.PAGE_TYPE.LANDING&&this.steps.unshift(this.pages.landingPage),1!==this.steps.filter((function(e){return e.type===exports.PAGE_TYPE.LANDING})).length)throw new Error("".concat(exports.PAGE_TYPE.LANDING," ").concat(n,"."));if(this.steps[this.steps.length-1].type!==exports.PAGE_TYPE.NO_RESULTS&&this.steps.push(this.pages.noResultsPage),1!==this.steps.filter((function(e){return e.type===exports.PAGE_TYPE.NO_RESULTS})).length)throw new Error("".concat(exports.PAGE_TYPE.NO_RESULTS," ").concat(n,"."));if(this.steps[this.steps.length-2].type!==exports.PAGE_TYPE.RESULTS&&this.steps.splice(this.steps.length-1,0,this.pages.resultsPage),1!==this.steps.filter((function(e){return e.type===exports.PAGE_TYPE.RESULTS})).length)throw new Error("".concat(exports.PAGE_TYPE.RESULTS," ").concat(n,"."));if(this.steps[this.steps.length-3].type!==exports.PAGE_TYPE.SUMMARY&&this.steps.splice(this.steps.length-2,0,this.pages.summaryPage),1!==this.steps.filter((function(e){return e.type===exports.PAGE_TYPE.SUMMARY})).length)throw new Error("".concat(exports.PAGE_TYPE.SUMMARY," ").concat(n,"."))}},{key:"meetsAllRequirements",value:function(t,r){var n=t.minAge,o=t.maxAge,s=t.responses,i=t.ageCalc;return e.meetsMinAgeRequirements(r,n)&&e.meetsMaxAgeRequirements(r,o)&&e.meetsAgeCalcRequirements(r,i)&&this.meetsAnswerRequirements(s)}},{key:"meetsAnswerRequirements",value:function(e){var t=this;return!e||e.length<=0||e.every((function(e){var r,n=t.getQuestion(e.question);return!((null===(r=n.answers)||void 0===r?void 0:r.length)>0)||e.answers.some((function(e){var t;return void 0!==n.answer&&n.answer===(null===(t=n.answers.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.title)}))}))}}],[{key:"meetsMinAgeRequirements",value:function(e,t){if(!t)return!0;if(void 0===e.age)return!1;var r=e.age,n=r.years,o=r.months;return n>(null==t?void 0:t.years)||n>=(null==t?void 0:t.years)&&o>=(null==t?void 0:t.months)}},{key:"meetsMaxAgeRequirements",value:function(e,t){if(!t)return!0;if(void 0===e.age)return!1;var r=e.age,n=r.years,o=r.months;return n<(null==t?void 0:t.years)||n<=(null==t?void 0:t.years)&&o<=(null==t?void 0:t.months)}},{key:"meetsAgeCalcRequirements",value:function(e,t){return!t||void 0!==e.birthdate&&t(e.birthdate)}}]),e}();ct([u.ArrayUnique((function(e){return e.id}))],lt.prototype,"questions",void 0),ct([u.ArrayUnique((function(e){return e.label}))],lt.prototype,"results",void 0),ct([u.ArrayUnique((function(e){return e.id}))],lt.prototype,"sections",void 0),exports.DEFAULT_PAGES=J,exports.Helpers=X,exports.Questionable=function(n){var o=n.questionnaire;if(!o)throw new Error("questionable is undefined");var s=O(r.useWizard(o.flow),2),i=s[0],a=s[1],c=O(t.useReducer(G,new E),2),u=c[0],l=c[1];return e.jsx(m,Object.assign({value:n},{children:e.jsxs("div",Object.assign({className:exports.CSS_CLASS.BASE},{children:[e.jsx("section",Object.assign({className:"section ".concat(exports.CSS_CLASS.PROGRESS_BAR_TOP_SECTION)},{children:e.jsx(ce,Object.assign({},{position:"top",props:{dispatchForm:l,form:u,stepId:i,wizard:a}}),void 0)}),void 0),e.jsx("section",Object.assign({className:"section ".concat(exports.CSS_CLASS.STEP_LAYOUT_SECTION)},{children:e.jsx(ze,Object.assign({},{dispatchForm:l,form:u,stepId:i,wizard:a}),void 0)}),void 0),e.jsx("section",Object.assign({className:"section ".concat(exports.CSS_CLASS.PROGRESS_BAR_BOTTOM_SECTION)},{children:e.jsx(ce,Object.assign({},{position:"bottom",props:{dispatchForm:l,form:u,stepId:i,wizard:a}}),void 0)}),void 0),e.jsx("section",Object.assign({className:"section ".concat(exports.CSS_CLASS.DEV_PANEL_SECTION)},{children:e.jsx(oe,Object.assign({},{dispatchForm:l,form:u,stepId:i,wizard:a}),void 0)}),void 0)]}),void 0)}),void 0)},exports.QuestionableConfig=st,exports.Questionnaire=lt,exports.STEP_TYPE=Y,exports.getAge=V,exports.getDateTime=Q,exports.getDateTimeAge=H,exports.isEnum=k,exports.isValidDate=F,exports.surveySchema=ue;
//# sourceMappingURL=index.js.map
